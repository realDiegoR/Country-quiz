function t(t,e,s,n){Object.defineProperty(t,e,{get:s,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},n={},i=e.parcelRequiredcfc;null==i&&((i=function(t){if(t in s)return s[t].exports;if(t in n){var e=n[t];delete n[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},e.parcelRequiredcfc=i),i.register("27Lyk",(function(e,s){var n,i;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>i),(t=>i=t));var r={};n=function(t){for(var e=Object.keys(t),s=0;s<e.length;s++)r[e[s]]=t[e[s]]},i=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i("27Lyk").register(JSON.parse('{"gpNS7":"index.48ff2ad6.js","2pwhO":"check.ec9e8a8a.svg","j81vF":"cross.410ab416.svg"}'));var r;r=new URL(i("27Lyk").resolve("2pwhO"),import.meta.url).toString();const o=new URL(r).href;var c;c=new URL(i("27Lyk").resolve("j81vF"),import.meta.url).toString();const a=new URL(c).href,l=document.getElementById("quizbox"),h=document.getElementById("question"),u=document.getElementById("answer-options"),d=[...u.children],m=document.getElementById("flagImage"),p=document.getElementById("next"),g=document.getElementById("results"),f=document.getElementById("resultsTitle"),y=document.getElementById("resultsCount"),w=document.getElementById("try-again"),L=document.getElementById("timer"),v=new Image;v.src=o,v.classList.add("absolute","top-0","right-2","bottom-0","my-auto");const b=new Image;b.src=a,b.classList.add("absolute","right-2","top-0","bottom-0","my-auto");class E{constructor(t,e,s,n,i){this.data=t,this.question=e,this.scoreCount=s,this.timer=n,this.restartGame=i,this.addEventListeners(),this.printResults=this.printResults.bind(this),this.updateScreen()}updateScreen(){this.printReset(),this.printQuestion()}printReset(){d.forEach((t=>{t.classList.remove("Correct","Wrong")})),u.classList.remove("pointer-events-none"),l.classList.remove("hidden"),g.classList.add("hidden"),m.classList.add("hidden"),p.classList.add("hidden"),this.timer.start(this.printResults)}printResults(t){l.classList.add("hidden"),g.classList.remove("hidden"),f.innerText=t,y.innerHTML=`You got <span class="text-green-600 text-xl">${this.scoreCount.get()}</span> correct answers.`}printAnswerClick(t,e){if("correct"===e)return t.classList.add("Correct"),void t.appendChild(v);t.classList.add("Wrong"),t.appendChild(b);const s=d.find((t=>t.innerHTML==this.question.country.name.common||t.innerHTML==this.question.country.capital[0]));s.classList.add("Correct"),s.appendChild(v)}printQuestion(){h.innerText=this.question.title,0===this.question.type?d.forEach(((t,e)=>{t.innerHTML=this.question.answers[e].name.common})):1===this.question.type?d.forEach(((t,e)=>{t.innerHTML=this.question.answers[e].capital[0]})):2===this.question.type&&(m.src=this.question.country.flags.png,m.classList.replace("hidden","block"),d.forEach(((t,e)=>{t.innerHTML=this.question.answers[e].name.common})))}addEventListeners(){const t=new AbortController;u.addEventListener("click",(t=>{const e=t.target;if(e===u)return;this.timer.stop(),u.classList.add("pointer-events-none");const s=this.question.check(e);s?(this.printAnswerClick(e,"correct"),p.classList.remove("hidden")):(this.printAnswerClick(e,"wrong"),setTimeout((()=>{this.printResults("Game Over")}),2500)),s&&this.scoreCount.sum()}),{signal:t.signal}),p.addEventListener("click",(t=>{this.question.makeNewQuestion(),this.updateScreen()}),{signal:t.signal}),w.addEventListener("click",(e=>{t.abort(),this.restartGame(["america"])}),{once:!0})}}const C=(t,e)=>Math.floor(Math.random()*(e-t+1)+t);class k{constructor(t){this.regions=t,this.countries=null}async fetch(){const t=`https://restcountries.com/v3.1/region/${this.regions[C(0,this.regions.length-1)]}?fields=name,capital,flags,subregion`;try{const e=await fetch(t),s=await e.json();return this.countries=s,s}catch(t){return console.error(t),null}}}class T{constructor(t){this.data=t,this.country=this.selectCountry(this.data),this.answers=this.makeAnswers(this.country,this.data),this.type=C(0,2),this.title=this.makeQuestionTitle(this.country,this.type)}selectCountry(t){return t[C(0,t.length-1)]}makeQuestionTitle(t,e){return 0===e?`${this.country.capital[0]} is the Capital of...`:1===e?`The Capital of ${this.country.name.common} is...`:"Which country does this flag belong to..?"}makeAnswers(t,e){const s=e.filter((e=>e.name.common!==t.name.common&&e.subregion===t.subregion));for(;s.length>3;)s.splice(C(0,s.length),1);return s.splice(C(0,3),0,t),s}makeNewQuestion(){this.country=this.selectCountry(this.data),this.answers=this.makeAnswers(this.country,this.data),this.title=this.makeQuestionTitle(this.country,this.type)}check(t){const e=t.innerText;if(0===this.type||2===this.type){return e===this.country.name.common}return e===this.country.capital[0]}}class _{constructor(){this._correctCount=0}sum(){return this._correctCount+=1}get(){return this._correctCount}}class x{constructor(){this._secondsLeft=15,this._interval=0}start(t){this.reset(),this._interval=setInterval((()=>{this._secondsLeft--,L.innerText=this._secondsLeft.toString(),0===this._secondsLeft&&(this.stop(),t("Time's Up!"))}),1e3)}stop(){this._interval&&clearInterval(this._interval)}reset(){this.stop(),this._secondsLeft=15,L.innerText=this._secondsLeft.toString()}}const q=async t=>{const e=new k(t);if(await e.fetch(),!e.countries)return;const s=new T(e.countries),n=new _,i=new x;new E(e,s,n,i,q)};q(["america"]);
//# sourceMappingURL=index.48ff2ad6.js.map
