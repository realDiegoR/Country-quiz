function t(t,e,s,n){Object.defineProperty(t,e,{get:s,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},n={},i=e.parcelRequiredcfc;null==i&&((i=function(t){if(t in s)return s[t].exports;if(t in n){var e=n[t];delete n[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},e.parcelRequiredcfc=i),i.register("27Lyk",(function(e,s){var n,i;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>i),(t=>i=t));var r={};n=function(t){for(var e=Object.keys(t),s=0;s<e.length;s++)r[e[s]]=t[e[s]]},i=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i("27Lyk").register(JSON.parse('{"gpNS7":"index.3b028b36.js","2pwhO":"check.ec9e8a8a.svg","j81vF":"cross.410ab416.svg"}'));var r;r=new URL(i("27Lyk").resolve("2pwhO"),import.meta.url).toString();const o=new URL(r).href;var c;c=new URL(i("27Lyk").resolve("j81vF"),import.meta.url).toString();const a=new URL(c).href,l=document.getElementById("start-box"),d=document.getElementById("start-game"),h=[...document.querySelectorAll("input[type='checkbox']")],u=document.getElementById("quizbox"),m=document.getElementById("question"),p=document.getElementById("answer-options"),g=[...p.children],f=document.getElementById("flagImage"),y=document.getElementById("next"),L=document.getElementById("results"),v=document.getElementById("resultsTitle"),w=document.getElementById("resultsCount"),b=document.getElementById("try-again"),E=document.getElementById("timer"),k=new Image;k.src=o,k.classList.add("absolute","top-0","right-2","bottom-0","my-auto");const x=new Image;x.src=a,x.classList.add("absolute","right-2","top-0","bottom-0","my-auto");class C{constructor(t,e,s,n){this.data=t,this.question=e,this.scoreCount=s,this.timer=n,this.printResults=this.printResults.bind(this),this.addEventListeners(),this.updateScreen()}resetScreen(){l.classList.remove("hidden"),u.classList.add("hidden"),L.classList.add("hidden"),this.timer.reset()}updateScreen(){l.classList.add("hidden"),this.printResetQuizbox(),this.printQuestion(),this.timer.start(this.printResults)}printResetQuizbox(){g.forEach((t=>{t.classList.remove("Correct","Wrong")})),p.classList.remove("pointer-events-none"),u.classList.remove("hidden"),L.classList.add("hidden"),f.classList.add("hidden"),y.classList.add("hidden")}printResults(t){u.classList.add("hidden"),L.classList.remove("hidden"),v.innerText=t,w.innerHTML=`You got <span class="text-green-600 text-xl">${this.scoreCount.get()}</span> correct answers.`}printAnswerClick(t,e){if("correct"===e)return t.classList.add("Correct"),void t.appendChild(k);t.classList.add("Wrong"),t.appendChild(x);const s=g.find((t=>t.innerHTML==this.question.country.name.common||t.innerHTML==this.question.country.capital[0]));s.classList.add("Correct"),s.appendChild(k)}printQuestion(){m.innerText=this.question.title,"flag"===this.question.type&&(f.src=this.question.country.flags.png,f.classList.replace("hidden","block")),"flag"!==this.question.type&&"country"!==this.question.type||g.forEach(((t,e)=>{t.innerHTML=this.question.answers[e].name.common})),"capital"===this.question.type&&g.forEach(((t,e)=>{t.innerHTML=this.question.answers[e].capital[0]}))}addEventListeners(){const t=new AbortController;p.addEventListener("click",(t=>{const e=t.target;if(e===p)return;this.timer.stop(),p.classList.add("pointer-events-none");const s=this.question.check(e);s?(this.printAnswerClick(e,"correct"),y.classList.remove("hidden")):(this.printAnswerClick(e,"wrong"),setTimeout((()=>{this.printResults("Game Over")}),2500)),s&&this.scoreCount.sum()}),{signal:t.signal}),y.addEventListener("click",(()=>{this.question.makeNewQuestion(),this.updateScreen()}),{signal:t.signal}),b.addEventListener("click",(()=>{t.abort(),this.resetScreen()}),{once:!0})}}const T=(t,e)=>Math.floor(Math.random()*(e-t+1)+t);class _{constructor(t){this.regions=t,this.countries=null}async fetch(){const t=`https://restcountries.com/v3.1/region/${this.regions[T(0,this.regions.length-1)]}?fields=name,capital,flags,subregion`;try{const e=await fetch(t),s=await e.json();return this.countries=s,s}catch(t){return console.error(t),null}}}const q=["country","capital","flag"];class I{constructor(t){this.data=t,this.country=this.selectCountry(this.data),this.answers=this.makeAnswers(this.country,this.data),this.type=q[T(0,2)],this.title=this.makeQuestionTitle(this.country,this.type)}selectCountry(t){return t[T(0,t.length-1)]}makeQuestionTitle(t,e){return"country"===e?`${t.capital[0]} is the Capital of...`:"capital"===e?`The Capital of ${t.name.common} is...`:"Which country does this flag belong to..?"}makeAnswers(t,e){const s=e.filter((e=>e.name.common!==t.name.common&&e.subregion===t.subregion));for(;s.length>3;)s.splice(T(0,s.length),1);return s.splice(T(0,3),0,t),s}makeNewQuestion(){this.country=this.selectCountry(this.data),this.answers=this.makeAnswers(this.country,this.data),this.title=this.makeQuestionTitle(this.country,this.type)}check(t){const e=t.innerText;if("country"===this.type||"flag"===this.type){return e===this.country.name.common}return e===this.country.capital[0]}}class R{constructor(){this._correctCount=0}sum(){return this._correctCount+=1}get(){return this._correctCount}}class S{constructor(){this._secondsLeft=15,this._interval=0}start(t){this.reset(),this._interval=setInterval((()=>{this._secondsLeft--,E.innerText=this._secondsLeft.toString(),0===this._secondsLeft&&(this.stop(),t("Time's Up!"))}),1e3)}stop(){this._interval&&clearInterval(this._interval)}reset(){this.stop(),this._secondsLeft=15,E.innerText=this._secondsLeft.toString()}}d.addEventListener("click",(t=>{const e=h.filter((t=>t.checked));if(!e)return;(async t=>{const e=new _(t);if(await e.fetch(),!e.countries)return;const s=new I(e.countries),n=new R,i=new S;new C(e,s,n,i)})(e.map((t=>t.nextElementSibling.innerText))),e.forEach((t=>t.checked=!1))}));
//# sourceMappingURL=index.3b028b36.js.map
